<div class="container">
  <% if teacher_signed_in? %>
    <h1>welcome Teacher <%=current_teacher.email%></h1>
      <%=link_to "Add Student", new_student_path %>
      <%=link_to "List Student", list_students_path %>
       <%=link_to "test",tests_path%>
       
       <%=link_to "Logout", destroy_teacher_session_path, :method=> :delete %>
  <%end%>
   <h1>Compare two students graph in teacher  </h1>
  <%
  stu_1=Student.find(1).first_name
  stu_1_res=Student.find(1).results
  percentage=stu_1_res.average(:percentage)
  stu_2=Student.find(5).first_name
  stu_2_res=Student.find(5).results
  percentage1=stu_2_res.average(:percentage)
 %>
 <% graph_data=
  { 
    stu_1=> percentage,
      stu_2=> percentage1,
    }
 %>
<%= column_chart graph_data %>



 <div class="row">
    <div class="col-md-6">
      <h1>Student name and percentage</h1>
      <div class="table-responsive">

<table border="2"  class="table table-striped table-bordered table-hover" >
          <thead>

            <tr><th>Student_Name</th>
          
              <th>Test</th>
          
            </tr> 
          </thead>
          <tbody>
            <% Result.all.each do |r| %>
            <tr>
            <td><%= r.student.first_name %></td>
            
              <td><%= r.test.test_name%></td>
              
            <% end %>
          </table>
          </div>
      </div>
    
       <div class="col-md-6">
      
     <h2> how many student attend the test teacher</h2>
<% g_data=Result.group(:test_id).count(:student_id) %>
<%= column_chart g_data ,label:"Attended Test" %>
          </div>
             </div>